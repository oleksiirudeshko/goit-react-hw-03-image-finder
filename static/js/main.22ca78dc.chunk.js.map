{"version":3,"sources":["components/Section.js","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/ImgAPI.js","components/App.js","index.js","components/Searchbar/Search.module.css"],"names":["Section","children","Searchbar","state","value","handleChange","target","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","Spinner","color","height","width","ImageGalleryItem","handleClick","onImgClick","largeImageURL","src","webformatURL","alt","Invalue","onClick","ImageGallery","images","map","id","key","Button","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","axios","defaults","baseURL","searchQuery","currentPage","pageSize","get","then","response","data","hits","App","loading","error","page","showModal","setLargeImg","url","toggleModal","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","fetchImages","imgApi","prevState","catch","finally","handleSearchQuery","query","prevProps","chekImages","length","message","ReactDOM","render","querySelector","module","exports"],"mappings":"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","file":"static/js/main.22ca78dc.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction Section({ children }) {\n  return <section>{children}</section>;\n}\n\nSection.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default Section;\n","import React, { Component } from 'react';\n\nimport s from './Search.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  handleChange = ({ target }) => {\n    this.setState({\n      value: target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <>\n        <header className={s.Searchbar}>\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n            <button type='submit' className={s.SearchFormButton}>\n              <span className={s.SearchFormButtonLabel}></span>\n            </button>\n            <input\n              className={s.SearchFormInput}\n              type='text'\n              placeholder='Search images and photos'\n              value={value}\n              onChange={this.handleChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nfunction Spinner() {\n  return <Loader type=\"Hearts\" color=\"#00BFFF\" height={100} width={100} />;\n}\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ImageGalleryItem extends Component {\n  handleClick = e => {\n    this.props.onImgClick(this.props.largeImageURL);\n  };\n\n  render() {\n    return (\n      <li className='ImageGalleryItem'>\n        <img\n          src={this.props.webformatURL}\n          alt={this.props.Invalue}\n          onClick={this.handleClick}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  valeu: PropTypes.string,\n  onImgClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from './ImageGalleryItem';\n\nfunction ImageGallery({ images, onImgClick }) {\n  return (\n    <ul className='ImageGallery'>\n      {images.map(({ id, webformatURL, largeImageURL, value }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          Invalue={value}\n          onImgClick={onImgClick}\n          largeImageURL={largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Button extends Component {\n  render() {\n    return (\n      <button className=\"LoadMoreBtn\" onClick={this.props.onClick}>\n        load more\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"click\", this.handleClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"click\", this.handleClick);\n  }\n\n  handleKeyDown = ({ code }) => {\n    if (code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleClick = ({ target }) => {\n    if (target.className === \"Backdrop\") {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Backdrop\">\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import axios from \"axios\";\n\nconst API_KEY = \"18811759-45b623fd978c0dc08d4086f4a\";\naxios.defaults.baseURL = \"https://pixabay.com/api\";\nconst imgApi = ({ searchQuery = \"\", currentPage = 1, pageSize = 10 }) => {\n  return axios\n    .get(\n      `/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { imgApi };\n","import React, { Component } from \"react\";\n\nimport Section from \"./Section\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport Spinner from \"./Loader/Loader\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\nimport imgApi from \"../services/ImgAPI\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n    largeImageURL: null,\n  };\n\n  setLargeImg = (url) => {\n    this.setState({ largeImageURL: url });\n  };\n\n  toggleModal = () => {\n    this.setState((state) => ({ showModal: !state.showModal }));\n  };\n\n  onImgClick = (url) => {\n    this.toggleModal();\n    this.setLargeImg(url);\n\n    // }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n      this.setState({ loading: true });\n    }\n    this.scroll();\n  }\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    imgApi\n      .imgApi(searchQuery, page)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n  handleSearchQuery = (query) => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  render() {\n    const { images, loading, error, showModal } = this.state;\n    const chekImages = images.length > 0 && !loading;\n    return (\n      <>\n        <Section>\n          <Searchbar onSubmit={this.handleSearchQuery} />\n        </Section>\n\n        <Section>\n          {error && <p>Whoops, something went wrong: {error.message}</p>}\n          {loading && <Spinner />}\n          {chekImages && (\n            <>\n              <ImageGallery\n                images={images}\n                value={this.state.searchQuery}\n                onClick={this.toggleModal}\n                onImgClick={this.onImgClick}\n              />\n\n              <Button onClick={this.fetchImages} />\n            </>\n          )}\n        </Section>\n\n        <Section>\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={this.state.largeImageURL} alt=\"\"></img>\n              <button type=\"button\" className=\"Xbtn\" onClick={this.toggleModal}>\n                x\n              </button>\n            </Modal>\n          )}\n        </Section>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Search_Searchbar__1_uCR\",\"SearchForm\":\"Search_SearchForm__28brq\",\"SearchFormButton\":\"Search_SearchFormButton__1R0Yo\",\"SearchFormInput\":\"Search_SearchFormInput__16brB\"};"],"sourceRoot":""}